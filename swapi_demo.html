<!DOCTYPE html>
<html>
	<head>
		<title>Parsing OpenMapAPI using JavaScript Object Notation</title>
		<script>
			var txt = "", desc = "";
			var myXMLHttpRequest = new XMLHttpRequest();
			//var url = "http://api.openweathermap.org/data/2.5/weather?lat=35&lon=139" ;
			var url = "https://swapi.co/api/people/1/";

			myXMLHttpRequest.onreadystatechange = function() {
				if (myXMLHttpRequest.readyState === 4 && myXMLHttpRequest.status === 200) 
				{
					// the JSON response deserialized 
					var myObject = JSON.parse(myXMLHttpRequest.responseText);

					//for (i in myObject.list.dt.weather) {
  //x += "<h2>" + myObject.list.dt.weather[i].description + "</h2>";
  //}
					// let's display the weather on the page
					var description = "sample name " + myObject.name + " The name's height is " + myObject.height;

					//var description = "My city id is " + myObject.city.id + " My city name is " + myObject.city.name + "Coordinates of the city:" + "lat is"+myObject.city.coord.lat + "long is" + myObject.city.coord.lon;

					document.getElementById("weather").innerHTML = description;
					 
					var myJSON = JSON.stringify(myObject);					
					// let's display this in the div with the id "json"
					document.getElementById("json").innerHTML = myJSON;
				}
				else if (myXMLHttpRequest.readyState === 4 && myXMLHttpRequest.status !== 200)
				{
				   // fail.
				   document.getElementById("weather").innerHTML = "failed.";
				   document.getElementById("json").innerHTML = "failed.";
				   
				}	
			}
			myXMLHttpRequest.open("GET", url, true);
			myXMLHttpRequest.send();
		</script>
	</head>
	<body>
		<h1>JavaScript Object Notation Demo using SWAPi</h1>
		<h2>The SWAPI</h2>
		<div id="weather">
		loading...
		</div>
		<h2>The JSON as a String</h2>
		<div id="json">
		loading...
		</div>
		
<div id="demo">loading...
		</div>

	</body>
</html>